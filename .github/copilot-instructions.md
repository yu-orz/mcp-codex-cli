# GitHub Copilot Instructions

このリポジトリでのコード作成・レビュー時は以下のガイドラインに従ってください。

## 言語設定
- **日本語でコメントとレビューを提供してください**
- コミットメッセージは日本語で記載
- コードコメント（必要な場合）も日本語で記載
- ドキュメント（README、CLAUDE.md等）は日本語で記載

## プロジェクト概要
これはOpenAI CodeX CLIをラップするMCP（Model Context Protocol）サーバーです。

### 主要コンポーネント
- `index.ts`: MCPサーバーのメインエントリーポイント
- `tools/chat.ts`: CodeX CLIとの対話ツール
- `tools/analyzeFile.ts`: ファイル解析ツール
- `utils/executeCommand.ts`: コマンド実行ユーティリティ

### 重要な実装ポイント
- CodeX CLIは`codex exec`サブコマンドで非対話的に実行
- タイムアウト（120秒）を設定して無限待機を防止
- MCPプロトコルに準拠したツール定義とレスポンス

## コーディング規約
- TypeScriptを使用
- Bunによる開発とビルド
- Biomeによるリンティングとフォーマット
- ES Modulesを使用

## レビュー時の観点
1. **エラーハンドリング**: CodeX CLI実行時の適切なエラー処理
2. **タイムアウト処理**: 長時間実行を防ぐ仕組み
3. **MCPプロトコル準拠**: 正しいツール定義とレスポンス形式
4. **型安全性**: TypeScriptの型定義を適切に使用
5. **テスト**: 単体テストとE2Eテストの適切な分離

## 推奨するレビューコメント例
```
✅ 良い点: エラーハンドリングが適切に実装されています
⚠️ 改善提案: タイムアウト時間をconfigurable にすることを検討してください
🔧 修正要求: この部分でメモリリークの可能性があります
💡 提案: この処理をユーティリティ関数に分離することを検討してください
```

## 特別な注意事項
- CodeX CLIの実行方法が変更された場合は、ドキュメント（CLAUDE.md）も更新
- 新しいツールを追加する場合は、適切なMCPスキーマ定義を含める
- パフォーマンステストは実際のCodeX CLI環境で実行する必要がある